I have left a number of defines at the beiginning of this code in case I need those register addresses later.

This code still needs a proper calibration routine to correct the offsets. 